<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>GXOKER UBT Custom Login</title>
    <style>
        :root { --primary: #00b4db; --dark: #12192c; --white: #ffffff; }
        body { font-family: sans-serif; margin: 0; background: var(--dark); color: #333; overflow-x: hidden; }
        
        /* Login Page */
        #login-page { display: flex; justify-content: center; align-items: center; min-height: 100vh; padding: 20px; box-sizing: border-box; }
        .login-card { width: 100%; max-width: 400px; background: #161b22; border-radius: 15px; overflow: hidden; border: 1px solid #30363d; }
        .login-header { background: linear-gradient(90deg, #00d2ff, #3a7bd5); padding: 15px; color: white; text-align: center; font-size: 1.1rem; }
        .login-body { padding: 20px; color: white; }
        .input-group { margin-bottom: 15px; }
        .input-group label { display: block; margin-bottom: 5px; color: #8b949e; font-size: 0.8rem; }
        input, select { width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #30363d; background: #0d1117; color: white; font-size: 16px; box-sizing: border-box; }
        
        /* Photo Upload Area */
        .photo-upload-container { text-align: center; margin-bottom: 20px; }
        .photo-preview { width: 110px; height: 140px; border: 2px dashed var(--primary); margin: 0 auto 10px; border-radius: 10px; display: flex; justify-content: center; align-items: center; overflow: hidden; background: #0d1117; }
        .photo-preview img { width: 100%; height: 100%; object-fit: cover; display: none; }
        .upload-btn { background: #238636; color: white; padding: 8px 15px; border-radius: 5px; cursor: pointer; font-size: 0.9rem; display: inline-block; }
        #photo-input { display: none; }

        .start-btn { width: 100%; padding: 18px; border: none; background: linear-gradient(90deg, #00f260, #0575e6); color: white; font-weight: bold; font-size: 18px; cursor: pointer; }

        /* Exam Page Header with User Info */
        #exam-page { display: none; background: #f0f2f5; height: 100vh; flex-direction: column; }
        .top-info-bar { background: #1a233a; color: white; padding: 10px; display: flex; align-items: center; gap: 10px; border-bottom: 2px solid var(--primary); }
        .user-thumb { width: 40px; height: 50px; border-radius: 3px; object-fit: cover; border: 1px solid white; }
        .user-meta { flex: 1; font-size: 0.8rem; }
        .timer-box { background: #ff0055; padding: 5px 10px; border-radius: 5px; font-weight: bold; }

        .main-container { flex: 1; padding: 10px; overflow-y: auto; }
        .question-card { background: white; border-radius: 10px; padding: 15px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); margin-bottom: 15px; }
        .options-list { display: flex; flex-direction: column; gap: 8px; }
        .opt-btn { background: white; border: 1px solid #ddd; padding: 12px; border-radius: 8px; display: flex; align-items: center; }
        .bottom-nav { background: #1a233a; padding: 10px; display: grid; grid-template-columns: repeat(4, 1fr); gap: 5px; }
        .nav-btn { background: #2c3e50; color: white; border: none; padding: 12px 5px; border-radius: 5px; font-weight: bold; }
    </style>
</head>
<body>

<div id="login-page">
    <div class="login-card">
        <div class="login-header">UBT စာမေးပွဲအတွက် အချက်အလက်ဖြည့်ပါ</div>
        <div class="login-body">
            <div class="photo-upload-container">
                <div class="photo-preview" id="preview-box">
                    <span id="placeholder-text" style="color:#58a6ff; font-size: 12px;">PHOTO</span>
                    <img id="user-photo-preview" src="">
                </div>
                <label for="photo-input" class="upload-btn">UPLOAD PHOTO</label>
                <input type="file" id="photo-input" accept="image/*" onchange="previewImage(this)">
            </div>

            <div class="input-group">
                <label>FULL NAME</label>
                <input type="text" id="user-name" placeholder="သင့်နာမည်ရိုက်ပါ">
            </div>

            <div class="input-group">
                <label>JOB SECTOR</label>
                <select id="user-job">
                    <option value="Manufacturing">Manufacturing (제조업)</option>
                    <option value="Agriculture">Agriculture (농업)</option>
                    <option value="Construction">Construction (건설업)</option>
                    <option value="Fishery">Fishery (어업)</option>
                </select>
            </div>
        </div>
        <button class="start-btn" onclick="startExam()">CONFIRM & START</button>
    </div>
</div>

<div id="exam-page">
    <div class="top-info-bar">
        <img id="exam-user-img" src="" class="user-thumb">
        <div class="user-meta">
            <div id="display-name" style="font-weight:bold;">Name</div>
            <div id="display-job">Sector</div>
        </div>
        <div class="timer-box" id="timer">20:00</div>
    </div>
    
    <div class="main-container">
        <div class="question-card">
            <div style="color:var(--primary); font-weight:bold;" id="q-number">[Q 1]</div>
            <p id="q-text" style="font-size: 16px; margin: 10px 0;"></p>
            <img id="q-img" src="" style="width:100%; border-radius:5px; display:none;">
        </div>
        <div class="options-list" id="options"></div>
    </div>

    <div class="bottom-nav">
        <button class="nav-btn" onclick="prevQ()">PREV</button>
        <button class="nav-btn">LIST</button>
        <button class="nav-btn" onclick="nextQ()">NEXT</button>
        <button class="nav-btn" style="background:#ff0055;" onclick="finishExam()">FINISH</button>
    </div>
</div>

<script>
    let userData = { name: "", job: "", photo: "" };
    let currentIdx = 0;
    const questions = [
        { text: "다음 그림을 보고 맞는 단어를 고르십시오.", img: "q1.jpg", options: ["가방", "구두", "모자", "안경"], ans: 0 },
        { text: "이것은 무엇입니까?", img: "q2.jpg", options: ["책상", "의자", "침대", "탁자"], ans: 1 }
    ];

    // ဓာတ်ပုံ Preview ကြည့်ရန်
    function previewImage(input) {
        if (input.files && input.files[0]) {
            const reader = new FileReader();
            reader.onload = function(e) {
                document.getElementById('user-photo-preview').src = e.target.result;
                document.getElementById('user-photo-preview').style.display = 'block';
                document.getElementById('placeholder-text').style.display = 'none';
                userData.photo = e.target.result;
            }
            reader.readAsDataURL(input.files[0]);
        }
    }

    function startExam() {
        userData.name = document.getElementById('user-name').value || "Unknown User";
        userData.job = document.getElementById('user-job').value;

        if(!userData.photo) {
            alert("ကျေးဇူးပြု၍ ဓာတ်ပုံအရင်တင်ပေးပါ");
            return;
        }

        // စာမေးပွဲစာမျက်နှာမှာ အချက်အလက်တွေပြမယ်
        document.getElementById('display-name').innerText = userData.name;
        document.getElementById('display-job').innerText = userData.job;
        document.getElementById('exam-user-img').src = userData.photo;

        document.getElementById('login-page').style.display = 'none';
        document.getElementById('exam-page').style.display = 'flex';
        loadQuestion();
    }

    function loadQuestion() {
        const q = questions[currentIdx];
        document.getElementById('q-number').innerText = `[Question ${currentIdx + 1}]`;
        document.getElementById('q-text').innerText = q.text;
        const imgTag = document.getElementById('q-img');
        imgTag.src = q.img; imgTag.style.display = q.img ? 'block' : 'none';

        const optDiv = document.getElementById('options');
        optDiv.innerHTML = "";
        q.options.forEach((opt, i) => {
            optDiv.innerHTML += `<div class="opt-btn" onclick="selectOpt(${i})">
                <div style="width:25px; height:25px; border:1px solid #333; border-radius:50%; display:flex; justify-content:center; align-items:center; margin-right:15px;">${i+1}</div>
                ${opt}
            </div>`;
        });
    }

    function nextQ() { if(currentIdx < questions.length - 1) { currentIdx++; loadQuestion(); } }
    function prevQ() { if(currentIdx > 0) { currentIdx--; loadQuestion(); } }
    function finishExam() { alert(userData.name + " ရေ... ဖြေဆိုမှု ပြီးဆုံးပါပြီ။"); }
</script>
</body>
</html>
